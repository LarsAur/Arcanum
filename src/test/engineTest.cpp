#include <string>
#include <test/engineTest.hpp>
#include <board.hpp>

using namespace Arcanum::Benchmark;

// EDPs are updated with moves from stockfish 17 with 1000ms searchtime.
static std::string BenchmarkEDPStrings[] = {
    // Bratko-Kopec Test
    // From: https://www.chessprogramming.org/Bratko-Kopec_Test
    "1k1r4/pp1b1R2/3q2pp/4p3/2B5/4Q3/PPP2B2/2K5 b - - pm Qd1+;",
    "3r1k2/4npp1/1ppr3p/p6P/P2PPPP1/1NR5/5K2/2R5 w - - pm d5;",
    "2q1rr1k/3bbnnp/p2p1pp1/2pPp3/PpP1P1P1/1P2BNNP/2BQ1PRK/7R b - - pm Bd8;",
    "rnbqkb1r/p3pppp/1p6/2ppP3/3N4/2P5/PPP1QPPP/R1B1KB1R w KQkq - pm e6;",
    "r1b2rk1/2q1b1pp/p2ppn2/1p6/3QP3/1BN1B3/PPP3PP/R4RK1 w - - pm Nd5;",
    "2r3k1/pppR1pp1/4p3/4P1P1/5P2/1P4K1/P1P5/8 w - - pm g6;",
    "1nk1r1r1/pp2n1pp/4p3/q2pPp1N/b1pP1P2/B1P2R2/2P1B1PP/R2Q2K1 w - - pm Qc1;",
    "4b3/p3kp2/6p1/3pP2p/2pP1P2/4K1P1/P3N2P/8 w - - pm f5;",
    "2kr1bnr/pbpq4/2n1pp2/3p3p/3P1P1B/2N2N1Q/PPP3PP/2KR1B1R w - - pm Kb1;",
    "3rr1k1/pp3pp1/1qn2np1/8/3p4/PP1R1P2/2P1NQPP/R1B3K1 b - - pm Ne5;",
    "2r1nrk1/p2q1ppp/bp1p4/n1pPp3/P1P1P3/2PBB1N1/4QPPP/R4RK1 w - - pm f4;",
    "r3r1k1/ppqb1ppp/8/4p1NQ/8/2P5/PP3PPP/R3R1K1 b - - pm Bf5;",
    "r2q1rk1/4bppp/p2p4/2pP4/3pP3/3Q4/PP1B1PPP/R3R1K1 w - - pm b4;",
    "rnb2r1k/pp2p2p/2pp2p1/q2P1p2/8/1Pb2NP1/PB2PPBP/R2Q1RK1 w - - pm Qd2;",
    "2r3k1/1p2q1pp/2b1pr2/p1pp4/6Q1/1P1PP1R1/P1PN2PP/5RK1 w - - pm Qxg7+;",
    "r1bqkb1r/4npp1/p1p4p/1p1pP1B1/8/1B6/PPPN1PPP/R2Q1RK1 w kq - pm Ne4;",
    "r2q1rk1/1ppnbppp/p2p1nb1/3Pp3/2P1P1P1/2N2N1P/PPB1QP2/R1B2RK1 b - - pm c6;",
    "r1bq1rk1/pp2ppbp/2np2p1/2n5/P3PP2/N1P2N2/1PB3PP/R1B1QRK1 b - - pm f5;",
    "3rr3/2pq2pk/p2p1pnp/8/2QBPP2/1P6/P5PP/4RRK1 b - - pm Rxe4;",
    "r4k2/pb2bp1r/1p1qp2p/3pNp2/3P1P2/2N3P1/PPP1Q2P/2KRR3 w - - pm g4;",
    "3rn2k/ppb2rpp/2ppqp2/5N2/2P1P3/1P5Q/PB3PPP/3RR1K1 w - - pm Nh6;",
    "2r2rk1/1bqnbpp1/1p1ppn1p/pP6/N1P1P3/P2B1N1P/1B2QPP1/R2R2K1 b - - pm Bxe4;",
    "r1bqk2r/pp2bppp/2p5/3pP3/P2Q1P2/2N1B3/1PP3PP/R4RK1 b kq - pm Bf5;",
    "r2qnrnk/p2b2b1/1p1p2pp/2pPpp2/1PP1P3/PRNBB3/3QNPPP/5RK1 w - - pm f4;",
    // Fritz 5 test suite
    // From: https://www.stmintz.com/ccc/index.php?id=24950
    "r1b1r1k1/p1p3pp/2p2n2/2bp4/5P2/3BBQPq/PPPK3P/R4N1R b KQkq - pm Bg4;",
    "1r5r/3b1pk1/3p1np1/p1qPp3/p1N1PbP1/2P2PN1/1PB1Q1K1/R3R3 b KQkq - pm Nxg4;",
    "2k4r/1pp2ppp/p1p1bn2/4N3/1q1rP3/2N1Q3/PPP2PPP/R4RK1 w KQkq - pm Nd5;",
    "rn3rk1/4bppp/1q2p3/p2pP3/8/1PN2B1P/P4PP1/2RQ1RK1 w KQkq - pm Bxd5;",
    "2r2bk1/4qp2/3n2p1/2R1p1Np/2p1N3/r6P/1Q3PP1/3R2K1 w KQkq - pm Rxc8;",
    "r1b1rnk1/1p3pb1/1qpp2p1/2n5/2PNP2p/1PN3PP/3R1PBK/BR1Q4 b KQkq - pm Rxa1;",
    "r1b2rk1/pp2b3/2pn1n1p/3pNppq/3P4/BP1N2P1/P3PPBP/R1Q2RK1 w KQkq - pm Nxc6;",
    "3rkb1r/1p3p2/p1n1p3/q5pp/2PpP3/1P4P1/P1Q1BPKP/R2N3R b KQkq - pm d3;",
    "5rk1/1r1qbnnp/R2p2p1/1p1Pp3/1Pp1P1N1/2P1B1NP/5QP1/5R1K w KQkq - pm Qxf7+;",
    "1k1r1b1r/p1p1q3/2p1p3/4Ppp1/4nP2/P2BQ3/1PP3PB/2KR3R b KQkq - pm Qc5;",
    "5r2/1b2k2p/3bp3/5PP1/Bn1Q3P/1N6/1Pr5/1K3R2 b KQkq - pm Rxb2+;",
    "r4rk1/1b3ppp/p2q1n2/1p2N3/3P4/1B6/P1Q2PPP/2R1R1K1 w KQkq - pm Nxf7;",
    "3r1rk1/1b2bppp/2q1pn2/pp4Q1/3B1P2/PBN5/1PP3PP/R2R3K b KQkq - pm Rxd4;",
    "3r4/p2nrpkp/2B1p3/2P2pP1/3R3Q/q7/6PP/6RK w KQkq - pm g6;",
    "b1n1r1k1/2q2p1p/p4Pp1/1pBP4/4B1P1/2P1Q3/P4K1P/4R3 w KQkq - pm Kg2;",
    "r1bqnrk1/pp2ppb1/1np3pp/4P1N1/5P2/2NBB3/PPP3PP/R2Q1RK1 w KQkq - pm Nh7;",
    "4rrk1/1bp2ppp/p1q2b1B/1pn2B2/4N1Q1/2P4P/PP3PP1/3RR1K1 w KQkq - pm Nxf6+;",
    "5r1k/pb2r1bp/1p2B1p1/n7/4qNQ1/4B3/P4PPP/2RR2K1 w KQkq - pm Rd4;",
    "1r3rk1/5pp1/1n2qn1p/1p1pPNb1/2pP2QP/2P5/1PB3P1/R1B1R1K1 w KQkq - pm exf6;",
    "4r1k1/1b4pp/p7/1prP3q/2P1B3/5P2/P3Q2P/3RR2K w KQkq - pm Bg6;",
    "2r1rbk1/1b3ppp/pp6/2q1pNP1/Pn1RP3/2N5/1PP2QBP/5R1K w KQkq - pm Nh6+;",
    "r4k2/q4npp/P2P4/2p1R3/2N5/6PP/Q5K1/8 w KQkq - pm Rf5;",
    "rr4k1/2p1ppb1/3pbnpp/q1pP4/4P3/1PNNBP1P/P1KR2P1/2Q4R b KQkq - pm Qxc3+;",
    "5rk1/p1pb2pp/2p5/3p3q/2P3n1/1Q4BN/PP1Np1KP/R3R3 b KQkq - pm Qxh3+;",
    "r1k4r/ppp1b3/5Npp/4pb1Q/8/1B2B3/PqP2PPP/2RR2K1 w KQkq - pm Qxf5+;",
    "r1bn1rk1/pp3p1p/6p1/2bR2N1/2B2B2/q1P1P3/2Q2PPP/4K2R w KQkq - pm Rxd8;",
    "2b2r2/1p2q1k1/r3pppp/4n2P/p3N3/1B4Q1/PPP3P1/3R1R1K w KQkq - pm Rxf6;",
    "2b1rr1k/1p5p/1Ppp2q1/p3bN2/2P1n3/5R2/PBQ3BP/3R2K1 w KQkq - pm Bxe5+;",
    "rbbq1rk1/p3nppp/1p2p3/8/1B1pN3/P2B4/1P3PPP/2RQ1RK1 w KQkq - pm Nf6+;",
    "rn2qbr1/2p4k/p2p1nb1/1p1Pp2p/2P4P/2NBBPN1/PP1Q4/2KR2R1 w KQkq - pm Nxh5;",
    "r1bq1rk1/pp2bp1p/2p2np1/3p2B1/3P4/2NQ2N1/PPP2PPP/4RRK1 w KQkq - pm f4;",
    "2k3r1/pp2rp2/1np5/2Np1p2/P2P3p/1R2P1Pq/2Q2P1P/1R4K1 w KQkq - pm a5;",
    "8/1Qp3pk/7p/5p2/5Pqn/1P1r4/P5PP/2B2RK1 b KQkq - pm Qe2;",
    "2rr1bk1/5p1p/pPN2np1/3Bp3/2Q1n3/1P2B1Pq/P3PP2/R2R2K1 b KQkq - pm Rxd5;",
    "b3r3/q2B2k1/3Q2p1/1p5p/3pP3/5P2/1p4PP/5RK1 b KQkq - pm Rf8;",
    "2r3k1/pp2n3/6pQ/4q3/8/2P1p1P1/P5BP/3R2K1 w KQkq - pm Bd5+;",
    "8/p3q1kp/1p2Pnp1/3pQ3/2pP4/1nP3N1/1B4PP/6K1 w KQkq - pm Ba3;",
    "r2b1rk1/5qp1/2p2P2/2p3Pp/p6P/2Q5/PPP5/2KR2R1 w KQkq - pm g6;",
    "4r3/Q2bppkp/3p2p1/3Nn3/4P3/6PP/1qr2PB1/R3R1K1 b KQkq - pm Ra8;",
    "8/p5Q1/2ppq2p/3n1ppk/3B4/2P2P1P/P5P1/6K1 w KQkq - pm g4+;",
    "1r2k2r/3q2pp/p3pp2/P7/2P1Q3/8/1nB3PP/1R3R1K w KQkq - pm Ba4;",
    "3R4/1p2kp2/p1b1nN2/6p1/8/6BP/2r1qPPK/Q7 w KQkq - pm Rh8;",
    "1q6/2rk1p2/p1n1b1rN/3p2p1/8/3Q4/PP1B1PPP/2R1R1K1 w KQkq - pm Nxf7;",
    "3r3k/p1Q3bp/2p3p1/8/2P1BRn1/1P4Pb/P1N1q2P/6BK b KQkq - pm Nf2+;",
    "1R3b2/3r3k/2p1bp1p/r1q1pNpQ/2PpP2P/6B1/P4PP1/1R4K1 w KQkq - pm Nxh6;",
    "r1b4r/pp2ppk1/2np1np1/3N3p/2B1P3/q3BP2/P1PQ2PP/1R3RK1 w KQkq - pm Nxe7;",
    "5rk1/Q2nqppp/5n2/2p5/8/1B2PP1P/Pr1B1P2/R3K2R b KQkq - pm Ne4;",
    "5rk1/5pbp/b5p1/p1nNN3/1p2n3/1P4PP/P4PB1/2BR2K1 w KQkq - pm Ne7+;",
    "r2r1bk1/3qp2p/3pp1p1/p2n2N1/2N3Q1/BP4P1/P4PP1/2R3K1 w KQkq - pm Nb6;",
    "1r3rk1/p4pbp/q1p2pp1/3p1b2/1n1P1P1B/PB3N2/1PPQR1PP/2KR4 b KQkq - pm Nd3+;",
    "1rbr2k1/4qp2/p1n2bpp/1pp1p1N1/4P3/2P1BQ1P/PPB2PP1/3RR1K1 w KQkq - pm Bxc5;",
    "2r2rk1/1p1q1ppp/1p3n2/3p1N2/4n3/1N3Q2/PPP2PPP/R2R2K1 w KQkq - pm Rxd5;",
    "2r1r1k1/pp3pp1/3p3B/P2P1P2/2nb4/7R/1q3PQP/1B3R1K w KQkq - pm Rb3;",
    "r2qr1n1/p4pk1/1p1p2p1/4p3/4PQ2/1PN2P2/1PP3P1/2KR3R w KQkq - pm Rh7+;",
    "r4rk1/ppp3b1/3p1qp1/3Pp3/2P1Bn2/4BP2/PP1Q4/2K3RR w KQkq - pm Kb1;",
    "1k1r2r1/pp3p1p/B2q1n2/8/3Pb1p1/2Q5/PR3PPP/2B1R1K1 w KQkq - pm Bxb7;",
    "k3r3/pR5p/PppR1p1p/4nP2/1PP5/8/4B1rP/2K5 w KQkq - pm Re7;",
    "1q3rk1/r5b1/pNp1bn1p/2Pp1n2/1P2p3/1N2P2P/PBQKB3/3R3R b KQkq - pm Nxe3;",
    "r5k1/5p1p/bq1p2p1/r2Pp3/1p2N1P1/1P3P2/1KPQ3P/3R3R b KQkq - pm Bb5;",
    "5Bk1/pr2pp1p/2b3pQ/2p1q3/8/2P4P/PP4P1/1B1Rb1K1 w KQkq - pm Bg7;",
    "rq3r1k/p2n1p2/1pbb1np1/2p2BB1/8/2N2N2/PP3QPP/3R1RK1 w KQkq - pm Qh4+;",
    "6k1/p4pq1/2n1p1p1/1p1pP1N1/3P1QPP/8/P3K3/8 w KQkq - pm Qc1;",
    "3r1rk1/1pq1nppp/p7/2pB3Q/P4P2/1P2P3/6PP/2RR2K1 w KQkq - pm Rxc5;",
    "8/p1r2q1k/1p1p3p/1Pp1nP2/P1P5/3R2PP/1Q4BK/8 w KQkq - pm Rxd6;",
    "6k1/1pp2p2/p2p2q1/2PPb3/4r3/Pr4PK/2R5/2Q2NR1 b KQkq - pm Rg4;",
    "r2qr1k1/1pnb1pp1/p1n1p2p/8/P2P3P/B2B1NP1/6P1/R2Q1RK1 w KQkq - pm Bh7+;",
    "2r1rbk1/5pp1/bq5p/1pnBPN2/6Q1/N7/5PPP/R2R2K1 w KQkq - pm Bxf7+;",
    "1k1r1r2/2b2R2/Bppp2p1/2q4p/Q2pP3/P2P4/2P3PP/1R4K1 w KQkq - pm Bb7;",
    "5r1r/1pkb4/5pB1/2P5/p3R2P/Pq6/1PQ2Pn1/K2R4 w KQkq - pm Rxd7+;",
    "2b3k1/p4ppp/7q/2Q5/8/P3r1P1/1r4BP/R3R1K1 b KQkq - pm Bb7;",
    "2rq4/5rbk/3p1n1p/p2Pp2P/1p2b3/4BNR1/PP1Q1P2/3BK1R1 w KQkq - pm Bxh6;",
    "r2q1rkb/pp2p3/2p2pp1/3pPb2/3P3R/2N3P1/PPPQBPK1/3R4 w KQkq - pm Rxh8+;",
    "r1bqrnk1/p4p2/1p5p/3pB1p1/P2P2n1/1P1B2N1/2Q3PP/R4RK1 w KQkq - pm Bh7+;",
    "r2r2k1/1bqpbpp1/ppn1p2p/2p1P1N1/P1B2B2/2P5/1PPRQPPP/3R2K1 w KQkq - pm Nxf7;",
    "6k1/1p3p2/4r1p1/1PPrbq1p/2QN4/P2R1P1P/R4KP1/8 b KQkq - pm Bg3+;",
    "6kb/B1p2p2/5r2/1r1p2pR/6q1/3P2P1/P1P2PP1/2KR3Q b KQkq - pm Rh6;",
    "2r2rk1/pp3qpp/8/3P1b2/3Q4/P1N1B3/5PKP/R2R4 b KQkq - pm Rxc3;",
    "r1b2rk1/1pqp1ppp/p1n1pn2/5N2/8/2PBB3/P1P2PPP/R2QR1K1 w KQkq - pm Nxg7;",
    "b6r/2q2k2/4pPp1/1p1n2Bp/2pPB1PP/2P2Q2/8/4R1K1 w KQkq - pm Bxg6+;",
    "r1b2r2/3pNpkp/3pn1p1/2pN3P/2PnP3/q3QP2/4BKP1/1R5R w KQkq - pm Qd2;",
    "2r1r1k1/pp1nbpp1/4pn1p/q3NN1P/P1pP1B2/2P5/1PQ2PP1/R3R1K1 w KQkq - pm Nxg7;",
    "1r3rk1/6p1/p1pb1qPp/3p4/4nPR1/2N4Q/PPP4P/2K1BR2 b KQkq - pm Qf5;",
    "5rk1/ppp1q2p/1n1p1np1/3P2N1/1P1R2P1/2Q4P/P3r1B1/5RK1 b KQkq - pm Qe5;",
    "r2qnr2/pp3kbQ/2npb1p1/2pN1pP1/4P3/8/PPP1BP2/R1B1K1NR w KQkq - pm Qxg6+;",
    "2r2r2/2N2pkp/2Q5/1N2p1b1/1p6/3P1qPb/PPR2P1P/4R1K1 b KQkq - pm e4;",
    "r3rk2/p2q1b1p/1pnP1Qp1/5pN1/2p2P2/P1P5/7P/4RRK1 w KQkq - pm Re7;",
    "r1rbb3/1R3pkp/2pBp1p1/p3P3/q6P/6P1/P2Q1P2/1R3BK1 w KQkq - pm Bc5;",
    "1rb2rk1/p1p2ppp/2q5/3R4/2P1N3/bP4B1/P1Q2P1P/1K5R w KQkq - pm Bd6;",
    "8/5k1p/5PpB/3PR3/2r4P/1p3K2/2b5/8 b KQkq - pm Re4;",
    "rnb2rk1/pp2bppp/2p5/q7/4NN2/4B1QP/PPP3P1/2KR3R w KQkq - pm Bd4;",
    "5k1r/ppqnnp2/3b2p1/2pB2Qp/3p3N/1P1P2P1/P1P2P2/2B1R1K1 w KQkq - pm Rxe7;",
    "3r1rk1/pbqn1pp1/1pp2n1p/2b1p1B1/P1B1P2N/2N4P/1PP1QPP1/3R1RK1 w KQkq - pm Rxd7;",
    "1rr3k1/4ppb1/2q1bnp1/1p2B1Q1/6P1/2p2P2/2P1B2R/2K4R w KQkq - pm Qh6;",
    "3rqb2/1pR3pk/p3n1pp/3p4/3B4/PP6/1P4PP/4RQK1 w KQkq - pm Rxb7;",
    "rkb2qr1/1p5p/pQ1bp3/3p2B1/5n2/3B1N2/PP3PPP/2R2RK1 w KQkq - pm Rc6;",
    "2r2rk1/1bq2ppp/p7/1p1pNN2/1b1PnB2/3Q3P/PP3PP1/R3R1K1 w KQkq - pm Rxe4;",
    "8/5p2/4p1k1/4P1p1/2rBRbK1/5P2/r4P2/7R b KQkq - pm Rxd4;",
    "r1bqr1k1/pp3pp1/2p4p/3PN1n1/3P1b2/2NB4/PPQ2PPP/3R1RK1 b KQkq - pm Rxe5;",
    "r1b1r1k1/pp3p1p/1q2p1pQ/2b1P1B1/8/P2B3P/1P3PP1/2R1R1K1 w KQkq - pm Rxc5;",
    "1k2r2r/1bpQN2p/1p6/P3p2q/4np2/2P2N2/2P2PPP/R3R1K1 b KQkq - pm Rxe7;",
    "r1b2r1R/1p2bpk1/4p1p1/4P1N1/p2p4/5Q2/qPP2PP1/1NKR4 w KQkq - pm Qf6+;",
    "rnb2rk1/3n1ppp/p3p3/1p2P1q1/3N4/1BN5/PPP3PP/R2Q1RK1 w KQkq - pm Nxe6;",
    "4rrk1/ppn3pp/2pb1n1q/3p4/1P1P4/P3BNP1/2P1BPKP/R2Q1R2 b KQkq - pm Rxe3;",
    "r3r1k1/pp3ppp/1qp5/2bbNQ2/5B2/2P5/PP3PPP/3RR1K1 w KQkq - pm Bg3;",
    "r4k1r/pp2pp2/3p1b2/q2PnQpp/3N4/1BP3P1/PP3PP1/3RR1K1 w KQkq - pm Rxe5;",
    "r1b3rk/pp1n3p/2p2b1n/4pp1q/2P5/1P3NPP/PBQ1NPB1/3RR1K1 w KQkq - pm Rxd7;",
    "2r2rk1/p3p1bp/3qP1p1/1Q1p4/P4P2/3R4/1P4PP/2B2RK1 b KQkq - pm Rc5;",
    "r3r1k1/4pp1p/b5pB/q1pP4/3b4/2N4P/PP4P1/R2RQ2K w KQkq - pm Rxd4;",
    "2rbr2k/1pq2ppp/p3bn2/4p1B1/P3P3/2N3Q1/1PP1B1PP/3R1R1K w KQkq - pm Rxd8;",
    "3nr1k1/p6p/2n1pRpB/3pP3/2pP2P1/q1P4P/6BK/5Q2 w KQkq - pm Rxg6+;",
    "1r2r1k1/1pqb2pp/p2bp1n1/2p3BQ/3pN3/1P1P2P1/P1P3BP/4RRK1 w KQkq - pm Bd8;",
    "r3k2N/pppbq1pp/5n2/3Ppn2/2BP4/2P3bP/PP2Q1P1/RNB2K1R b KQkq - pm Bh2;",
    "r3bb2/P1q3k1/Q2p3p/2pPp1pP/2B1P3/2B5/6P1/R5K1 w KQkq - pm Bxe5+;",
    "r1b1qbk1/7p/4p1p1/1p2Bp2/p1B2Q2/P3P3/1P3PPP/3R2K1 w KQkq - pm Bc3;",
    "q1r3k1/2r4p/2p3pP/2Qp1p2/PRn5/4P1P1/5PB1/1R4K1 w KQkq - pm Rxc4;",
    "r4r1k/1bq4p/p4bp1/3pn3/NP6/Q1PBB2P/6P1/3R1RK1 b KQkq - pm d4;",
    "r3rbk1/p1q2pp1/1n5p/2pp4/4N3/1PQ3P1/PB2PP1P/3R1RK1 w KQkq - pm Nf6+;",
    "r3r1k1/1pp2p1b/7p/2Q5/2PP2p1/2P1NpPq/P2R1P1P/6RK b KQkq - pm Rxe3;",
    "2k2r1r/1pp1nqbp/p2p1p2/5P2/2PBN3/1P3Q2/1P4PP/R4RK1 w KQkq - pm Rxa6;",
    "2kr3r/pp3p1p/2b1p3/q3Q3/5P2/2P1B3/P1P3PP/1R3RK1 b KQkq - pm Rhg8;",
    "2br1rk1/2qnQ2p/p4pp1/4p3/P1p1P1N1/2Pn1N1P/2B2PP1/1R1R1K2 w KQkq - pm Nh6+;",
    "r2rnbk1/pp3ppp/1q4n1/3p1N2/5P2/1PQB4/PBP3PP/4RR1K w KQkq - pm Nh6+;",
    "r3nrk1/p1pb1qpp/3p1p2/2pP1N2/2P1PR2/P1PB4/4Q1PP/5RK1 w KQkq - pm e5;",
    "r1b2rk1/pp2qp2/2nRp1p1/6Pn/1Pp5/P1N1P3/1BQ2PP1/2K2B1R w KQkq - pm Rxh5;",
    "R2b2k1/2rq1n1p/3p2p1/1p1Ppp1n/1P6/1B1PQN1P/1B3PP1/6K1 w KQkq - pm Nxe5;",
    "6k1/5rb1/6pp/1p2p3/2b5/4B1P1/r4PBP/1RR3K1 w KQkq - pm Rxc4;",
    "4r1k1/1p5p/5ppP/1qnP4/r4R2/P6P/1B1Q2K1/5R2 w KQkq - pm Rxf6;",
    "r2q1rnk/1p1bb1pp/p2p4/3NP1P1/P2Bp3/3Q3R/1PP1B2P/6RK w KQkq - pm Rxh7+;",
    "6k1/pbq2pp1/4r2p/8/3prb2/1P1Q3P/PN2BPP1/3RRK2 b KQkq - pm Bd2;",
    "r1b2rk1/pp2ppbp/2np1np1/q7/4P3/2N1BN2/PPPQBPPP/2KR3R b KQkq - pm Nxe4;",
    "r2q1rk1/p5pp/bn1p1p2/2pP4/1bP1NP2/3B1R2/PBQ3PP/R5K1 w KQkq - pm Ng5;",
    "1r1q2k1/7p/2p3p1/1P1n1b1r/2BQ4/4B3/P6P/1R3RK1 w KQkq - pm bxc6;",
    "r1b1qbk1/pp3r1p/2pR1np1/5p2/2P1pP2/1PN1Q1PP/PB2P1B1/5RK1 w KQkq - pm Rxf6;",
    "3rr1k1/1p1qb2p/pP4p1/2p2p2/4RQ2/3P4/1PPB2PP/4R1K1 w KQkq - pm Re6;",
    "6k1/rnqb3p/5ppQ/2pPp3/p1N1P3/2PB3P/5PP1/1R4K1 w KQkq - pm Qh4;",
    "1n2n1r1/r3qppk/p2p3p/3PpP1P/1P2P3/3B2RQ/3B1P1K/6R1 w KQkq - pm Bxh6;",
    "3r1r2/1b4bk/p1n3pp/1p2p3/4P3/q1P1QNB1/B4RPP/5RK1 w KQkq - pm Bh4;",
    "r1r3kb/1pqbpp2/p2p1npB/n7/3NP3/1BN2P2/PPPQ2P1/2KR3R w KQkq - pm Bf8;",
    "4qn1k/1b3rpp/pb2pB2/1pp1P2P/3p1NQ1/P2P2PB/1PP4K/5R2 w KQkq - pm Ng6+;",
    "2b5/2qrrpk1/5Rp1/2p4p/1pB1PR1P/1P1P2P1/5Q1K/8 w KQkq - pm Kg2;",
    "7r/2p1q1k1/1p3r1p/p1pPpPp1/2P1P1P1/PP6/3Q2KR/7R w KQkq - pm Qxg5+;",
    "r3q2r/2p1k1p1/p5p1/1p2Nb2/1P2nB2/P7/2PNQbPP/R2R3K b KQkq - pm Rxh2+;",
    "2kr3r/p5b1/Pp2R1p1/2q2p1p/2p2Pn1/2P2BP1/1PQB2P1/5R1K b KQkq - pm h4;",
    "r1b1k2r/6pp/p1p1p3/3np1B1/1b2N3/8/q1PQB1PP/3RK2R w KQkq - pm Qxb4;",
    "3qrbk1/1r3p2/p1bp1Pp1/1p2p1Pp/4P2R/1P2BB1Q/P1P4P/R6K w KQkq - pm Bxh5;",
    "2rq2k1/pp1bpp1p/3p1np1/8/3NPPnQ/1BP5/P1P3P1/1K1R3R w KQkq - pm f5;",
    "r1b3k1/3nqp1p/p1n1p1pP/3pP1N1/Pp3QN1/1Pr3P1/2PR1P2/4RBK1 w KQkq - pm Rxd5;",
    "r6k/ppr1qpp1/4n2p/3pP3/3P2R1/3BQ2P/P5PK/5R2 w KQkq - pm Rf6;",
    "2r4r/1q1kb1p1/4p2p/3pP3/np6/3RBP2/NPP2Q1P/1K2R3 b KQkq - pm Nc3+;",
    "2r4r/3bk1b1/1q2pp2/3pPp1p/1p1N1P1P/1P1R1BP1/P2Q4/1K1R4 w KQkq - pm Nxf5+;",
    "1rb3k1/2r2pbp/p2q1npn/P1pPp1N1/2B1P3/2P1B1NP/5QP1/3R1RK1 w KQkq - pm Ne6;",
    "2r2r1k/1p3p1p/p2p1Pp1/3Pp3/1q2Bn1Q/8/1PP3PP/4RR1K w KQkq - pm Rxf4;",
    "r4rk1/5ppp/p7/4PR2/P1qnp2Q/4B3/1P4PP/5RK1 w KQkq - pm Rh5;",
    "1r2k2r/1bq2pp1/pn2p2p/1p2P1b1/3N4/2N3Q1/PPP3PP/1K1R1BR1 w KQkq - pm Bxb5+;",
    "r1bqn1r1/p2k1pp1/1p5p/n1pPpN2/2P1P3/P1PBB2P/4Q1P1/R4RK1 w KQkq - pm Nxh6;",
    "r4rk1/p1p2pp1/bp1p1q1p/n1nPpN2/2P1P2P/2PB4/P2BQPP1/R3K2R w KQkq - pm Bg5;",
    "2kr2r1/2pqbp1p/p1n1b3/1P1pP3/4n3/1BP1BN2/1P4PP/RN1Q1RK1 b KQkq - pm Bh3;",
    "2b3k1/5qp1/p2r1n1p/3p4/3B4/1RP3QP/P2Nr1P1/3R2K1 b KQkq - pm Ne4;",
    "1r2r1k1/p4ppb/q1pbnn1p/4p3/N1P1P3/pPB2NP1/2Q1RPBP/R5K1 b KQkq - pm Bxe4;",
    "6kr/1p1r1p1p/p2pnPpQ/3Np2R/2q1P3/5P2/PPP5/2KR4 w KQkq - pm Rxe5;",
    "3Rq1k1/1pp1Ppbp/r1b3p1/p7/P1N5/1P4P1/1B2PP1P/2R3K1 w KQkq - pm Nd6;",
    "r2q1rk1/pp1n2pp/2pb4/1P1p3n/P1PPpP2/4P2b/1BNNBP1P/R2QR1K1 b KQkq - pm Nxf4;",
    "rq1r2k1/3nbp1p/p2p2p1/1p1Pp1P1/3B1P2/3B3Q/PPP4P/2KR2R1 w KQkq - pm Rde1;",
    "r4rk1/1bq1bppp/8/p2pPR2/3B4/1NnP3Q/1P4PP/4R1K1 w KQkq - pm Rh5;",
    "r1b2rk1/pp4bp/2p3p1/4q2n/NQPN1p1P/1P5n/P3PPB1/2BRRK2 b KQkq - pm f3;",
    "4rqk1/p5b1/3p3p/3Pn1p1/1pP1NrP1/4NP2/P3Q1P1/1K1RR3 b KQkq - pm Nxf3;",
    "3r1qk1/5p1p/4b1pP/1pRp4/1P1Q4/r5P1/5P2/4RBK1 w KQkq - pm Rxe6;",
    "2rr1nk1/pp2q1b1/4p1p1/5p2/1nB5/2B1N1QP/PP4P1/4RRK1 w KQkq - pm Nxf5;",
    "6rk/1b2bp1p/ppq1p3/2p1Pp2/P1Br1P2/1PNR2P1/2P1QK1P/6R1 b KQkq - pm Rxf4+;",
    "4qrk1/pp1bbppp/4pn2/2r1Q1B1/7P/2N3R1/PPP2PP1/2KR1B2 w KQkq - pm Bxf6;",
    "1k1r2r1/p1p3q1/2p2p2/3pn3/1P1b2bB/1QN5/P4PPP/1R2RBK1 b KQkq - pm Nf3+;",
    "r3k2r/1bq1bp1p/p2p1np1/1p2p3/3NP3/P1N2QB1/1PP2PPP/3RR1K1 w kq - pm Ncxb5;",
    "5r1n/r2q1pkp/3p1npN/NppPp2P/1P2P3/2P1Q1P1/5P2/R3K2R w KQkq - pm Nf5+;",
    "8/4Ppk1/6p1/1p6/1Pb1Q3/6pq/8/6K1 w KQkq - pm Qe5+;",
    "3Q4/k3K3/q7/2N1P3/1P6/5r2/8/8 b KQkq - pm Rf7+;",
    "5rk1/p1p1br2/1p1p2qp/4p3/2PPn1pP/3Q2P1/PPN1P1K1/2RR2B1 b KQkq - pm Rf3;",
    "1r2r1k1/1bn2pbp/pp1q1np1/2pPN1B1/P1B5/2N4P/1P1Q1PP1/R3R1K1 w KQkq - pm Nxf7;",
    "1rb2bk1/2n2qp1/p2p3p/R1pP1p2/2B5/1PBQ1N1P/2P2PP1/6K1 w KQkq - pm Rxc5;",
    "2r1r1k1/pp1b1ppp/1q6/3P4/7N/Pn1Q4/1P3PPP/1RB2RK1 b KQkq - pm Rxc1;",
    "2q1rk2/QR3ppp/1pPpb3/1P2p1b1/4P3/6P1/3N1PBP/6K1 w KQkq - pm Nf1;",
    "r3r1k1/p2n4/3p1pp1/qnp3B1/1p2P1P1/1P3P2/PP2N2Q/1K1R1B2 w KQkq - pm Qh6;",
    "r2q1rk1/pb1nbpp1/1pp1pn1p/3pN3/2PPP3/2N1B1P1/PP3PBP/R2Q1RK1 w KQkq - pm Nxc6;",
    "2r2rk1/pp2pp1p/2np2p1/q4P2/2PBP1b1/2N5/PP1Q2PP/R4RK1 w KQkq - pm h3;",
    "r1b2rk1/1p3pbp/2p3p1/p1q5/1P6/1Q4P1/1P2PPBP/R1B1R1K1 b KQkq - pm Be6;",
    "1rb1r1k1/p1p1qppp/2pb4/8/2P3n1/4P1P1/PB2BP1P/R1QN1RK1 b KQkq - pm Nxh2;",
    "8/8/1p1k4/5ppp/PPK1p3/6P1/5PP1/8 b KQkq - pm f4;",
    "8/p5k1/2p2p2/4p1p1/1p2P3/1P4PP/1PP5/5K2 b KQkq - pm g4;",
    "8/8/4b1p1/2Bp3p/5P1P/1pK1Pk2/8/8 b KQkq - pm g5;",
    "r1b5/p2k1r1p/3P2pP/1ppR4/2P2p2/2P5/P1B4P/4R1K1 w KQkq - pm cxb5;",
    "6r1/1p3k2/pPp4R/K1P1p1p1/1P2Pp1p/5P1P/6P1/8 w KQkq - pm Rxc6;",
    "1k2b3/4bpp1/p2pp1P1/1p3P2/2q1P3/4B3/PPPQN2r/1K1R4 w KQkq - pm f6;",
    "2kr3r/ppp1qpp1/2p5/2b2b2/2P1pPP1/1P2P1p1/PBQPB3/RN2K1R1 b KQkq - pm Qh4;",
    "6k1/2q3p1/1n2Pp1p/pBp2P2/Pp2P3/1P1Q1KP1/8/8 w KQkq - pm e5;",
    "6k1/1q2rpp1/p6p/P7/1PB1n3/5Q2/6PP/5R1K w KQkq - pm b5;",
    "r5r1/8/bRP1pk1p/3pNp2/5P2/7P/PR4P1/6K1 w KQkq - pm c7;",
    "6B1/2p2pp1/2p5/p3K3/1k6/nP4P1/5P1P/8 b KQkq - pm Kxb3;",
    "6k1/p3b1pp/4p3/4Pp2/Pp1r1P1P/1P4P1/2p2R2/5RK1 b KQkq - pm Rc4;",
    "2r2rk1/p1N2p1p/2P1p1p1/1Pp3q1/3b4/5Q2/P1P3PP/4RR1K w KQkq - pm Na6;",
    "3r1r2/pp1P3k/4Rbp1/1BP2p1p/8/7P/P4KP1/3R4 w KQkq - pm Ba6;",
    "3rr1k1/pppRn1pp/4Pp2/1P5q/1QB5/4P3/P4P1P/4K1R1 w KQkq - pm Rxd8;",
    "8/6Bp/6p1/2k1p3/4PPP1/1pb4P/8/2K5 b KQkq - pm b2+;",
    "4r3/p4pk1/6p1/P1pB2Pp/2P3b1/2p1N1P1/Qb1r1P2/6K1 b KQkq - pm Rxe3;",
    "2r1rbk1/p1Bq1ppp/Ppn1b3/1Npp4/B7/3P2Q1/1PP2PPP/R4RK1 w KQkq - pm Nxa7;",
    "r4rk1/ppq3pp/2p1Pn2/4p1Q1/8/2N5/PP4PP/2KR1R2 w KQkq - pm Rxf6;",
    "8/pR4pk/1b6/2p5/N1p5/8/PP1r2PP/6K1 b KQkq - pm Bd8;",
    "6k1/p4pp1/Pp2r3/1QPq3p/8/6P1/2P2P1P/1R4K1 w KQkq - pm cxb6;",
    "5r2/R4p2/5P1k/4PK2/1p6/8/8/8 w KQkq - pm Rb7;",
    "4r2k/pppb2pp/2np2q1/3B4/2P2P2/1PB1R1P1/PQ5P/6K1 w KQkq - pm Rxe8+;",
    "8/2k5/2p5/2pb2K1/pp4P1/1P1R4/P7/8 b KQkq - pm Bxb3;",
    "r1b2rk1/1p2qppp/p3p3/2n5/3N4/3B1R2/PPP1Q1PP/R5K1 w KQkq - pm Bxh7+;",
    "r2qrbk1/5ppp/pn1p4/np2P1P1/3p4/5N2/PPB2PP1/R1BQR1K1 w KQkq - pm Bxh7+;",
    "1rb2rk1/3nqppp/p1n1p3/1p1pP3/5P2/2NBQN2/PPP3PP/2KR3R w KQkq - pm Bxh7+;",
    "5rrk/1p3qpp/p3pn2/2PpBp2/3P1P1Q/P1P1R2R/2b1B1PP/6K1 w KQkq - pm Qxh7+;",
    "r4rk1/1bq2ppp/p1p1p3/2b1P1B1/3p2Q1/3B4/PPP2PPP/R3R1K1 w KQkq - pm Bf6;",
    "2r2r2/p2qppkp/3p2p1/3P1P2/2n2R2/7R/P5PP/1B1Q2K1 w KQkq - pm Rxh7+;",
    "1r1qr1k1/5p1p/1n2p1p1/pp1pP1P1/2pP1BB1/PnP3P1/1P3PK1/1R1Q3R w KQkq - pm Rxh7;",
    "4rrk1/2q1bppp/p2p4/1p1Pn3/3B1R2/P2B2Q1/1PP3PP/5R1K w KQkq - pm Bxe5;",
    "5r1k/ppp2qnp/1n1p1N1Q/3Ppb2/2P4P/7B/PP6/2KR2R1 w KQkq - pm Nxh7;",
    "r4rk1/pp2q1p1/4b2p/2ppb3/6n1/2P3N1/PPQBBPPP/R4RK1 b KQkq - pm Nxh2;",
    "b3r1k1/2rN1ppp/2n1p3/p7/P3BP2/1R6/q1P2QPP/3R2K1 w KQkq - pm Bxh7+;",
    "2r1qrk1/3n3p/b3pPp1/4P3/1pp1nBN1/pP4PQ/P1P2PK1/3RR3 w KQkq - pm Qxh7+;",
    "5rk1/pbrn1ppp/1ppN1q2/2P1p3/3P4/1PRB4/P3QPPP/5RK1 w KQkq - pm Bxh7+;",
    "r1b2r1k/ppppq1pp/2n1n3/6N1/2B2P2/4B3/PPP3PP/R2Q1RK1 w KQkq - pm Bxe6;",
    "rn1q1rk1/pb1p1ppp/4p3/2pnP3/1bp5/2N2N2/PP3PPP/RBBQK2R w KQkq - pm Bxh7+;",
    "r2r2k1/p1p2p1p/4pPp1/1Pqb4/8/7R/1PB2PPP/3QR1K1 w KQkq - pm Rxh7;",
    "rn3rk1/pp1bppbp/1qp3p1/4P1N1/PP1PB3/2P1B3/4Q1PP/R4RK1 w KQkq - pm Nxh7;",
    "3rr1k1/1pq1nppp/p1p2b2/4pB2/2QPP3/P1P1B3/1P4PP/3R1RK1 w KQkq - pm Bxh7+;",
    "2rrn1k1/2q2ppp/p2pp3/1p2P1P1/4B3/P5Q1/1PP3PP/R4R1K w KQkq - pm Bxh7+;",
    "r2q3r/2pkb1p1/p2p1n2/4p1p1/Pp2P1P1/1QP5/1P1P2PP/RNB2RK1 b KQkq - pm Rxh2;",
    "2rq1rk1/pp1bnpbp/4p1p1/3pP1N1/3P2Q1/2PB4/P4PPP/R1B1R1K1 w KQkq - pm Nxh7;",
    "2rq1bk1/1br2p1p/p2p2p1/1p1P4/4Q3/PP3N2/1BP5/1K1R3R w KQkq - pm Rxh7;"
};

constexpr uint32_t NumBenchmarkStrings = sizeof(BenchmarkEDPStrings) / sizeof(BenchmarkEDPStrings[0]);
constexpr uint32_t SearchTime = 1000; // ms
uint32_t EngineTest::m_successes;
uint32_t EngineTest::m_attempts;

void EngineTest::m_testPosition(EDP& edp, Searcher& searcher)
{
    Board board = Board(FEN::startpos);
    FEN::setFEN(board, edp.fen, false);

    searcher.clear();
    Move bestMove = searcher.getBestMoveInTime(board, SearchTime);

    m_attempts++;
    if(bestMove != edp.pm)
    {
        FAIL("[" << m_successes << " / " << m_attempts << "] Found " << bestMove << " not " << edp.pm << " in " << edp.fen)
        return;
    }

    m_successes++;
    SUCCESS("[" << m_successes << " / " << m_attempts << "] Found " << bestMove << " in " << edp.fen)
}

void EngineTest::runEngineTest()
{
    m_successes = 0;
    m_attempts = 0;

    Searcher searcher = Searcher(false);

    for(uint32_t i = 0; i < NumBenchmarkStrings; i++)
    {
        EDP edp = FEN::parseEDP(BenchmarkEDPStrings[i]);
        m_testPosition(edp, searcher);
    }
}